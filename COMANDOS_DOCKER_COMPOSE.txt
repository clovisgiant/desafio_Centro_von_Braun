===============================================
   COMANDOS DOCKER-COMPOSE - GUIA RÃPIDO
===============================================

ğŸ“¦ COMANDOS BÃSICOS
-------------------

docker-compose up
â””â”€ Inicia todos os containers definidos no docker-compose.yml
   Os containers rodam em primeiro plano (vocÃª vÃª os logs)

docker-compose up -d
â””â”€ Inicia todos os containers em modo "detached" (segundo plano)
   Os containers rodam em background, liberando o terminal

docker-compose up --build
â””â”€ ReconstrÃ³i as imagens Docker e inicia os containers
   Ãštil quando vocÃª modifica o cÃ³digo e quer aplicar as mudanÃ§as

docker-compose up --build -d
â””â”€ ReconstrÃ³i as imagens e inicia em background
   Combina reconstruÃ§Ã£o + execuÃ§Ã£o em segundo plano

docker-compose down
â””â”€ Para e remove todos os containers, redes e volumes
   Limpa tudo, mas mantÃ©m as imagens Docker


ğŸ”„ GERENCIAMENTO DE CONTAINERS
-------------------------------

docker-compose start
â””â”€ Inicia containers que jÃ¡ foram criados mas estÃ£o parados
   NÃ£o recria os containers

docker-compose stop
â””â”€ Para os containers sem removÃª-los
   VocÃª pode reiniciÃ¡-los com "start"

docker-compose restart
â””â”€ Reinicia todos os containers
   Ãštil quando vocÃª quer aplicar mudanÃ§as de configuraÃ§Ã£o

docker-compose restart [nome-do-serviÃ§o]
â””â”€ Reinicia apenas um serviÃ§o especÃ­fico
   Exemplo: docker-compose restart frontend


ğŸ”¨ RECONSTRUÃ‡ÃƒO E BUILD
-----------------------

docker-compose build
â””â”€ ReconstrÃ³i as imagens Docker sem iniciar os containers
   Ãštil quando vocÃª sÃ³ quer compilar as mudanÃ§as

docker-compose build --no-cache
â””â”€ ReconstrÃ³i as imagens ignorando o cache do Docker
   ForÃ§a uma reconstruÃ§Ã£o completa do zero

docker-compose up --build -d [nome-do-serviÃ§o]
â””â”€ ReconstrÃ³i e inicia apenas um serviÃ§o especÃ­fico
   Exemplo: docker-compose up --build -d backend


ğŸ“Š VISUALIZAÃ‡ÃƒO E LOGS
----------------------

docker-compose ps
â””â”€ Lista todos os containers do projeto e seus status
   Mostra se estÃ£o rodando, parados, etc.

docker-compose logs
â””â”€ Mostra os logs de todos os containers
   Exibe tudo que foi impresso no console

docker-compose logs -f
â””â”€ Mostra os logs em tempo real (modo "follow")
   Continua exibindo novas mensagens conforme aparecem

docker-compose logs [nome-do-serviÃ§o]
â””â”€ Mostra logs de um serviÃ§o especÃ­fico
   Exemplo: docker-compose logs backend

docker-compose logs --tail 50 [nome-do-serviÃ§o]
â””â”€ Mostra apenas as Ãºltimas 50 linhas de log
   Ãštil para ver logs recentes sem poluir o terminal


ğŸ§¹ LIMPEZA E MANUTENÃ‡ÃƒO
------------------------

docker-compose down -v
â””â”€ Para containers e remove volumes de dados
   âš ï¸ CUIDADO: Apaga dados persistentes (bancos de dados, etc)

docker-compose down --rmi all
â””â”€ Para containers e remove todas as imagens relacionadas
   Libera espaÃ§o em disco

docker system prune -a
â””â”€ Remove todos os containers, imagens e volumes nÃ£o utilizados
   Limpeza geral do Docker (nÃ£o Ã© especÃ­fico do compose)


ğŸ”§ COMANDOS AVANÃ‡ADOS
---------------------

docker-compose exec [serviÃ§o] [comando]
â””â”€ Executa um comando dentro de um container em execuÃ§Ã£o
   Exemplo: docker-compose exec backend bash

docker-compose run [serviÃ§o] [comando]
â””â”€ Cria um novo container temporÃ¡rio e executa um comando
   Ãštil para executar scripts ou comandos Ãºnicos

docker-compose config
â””â”€ Valida e mostra a configuraÃ§Ã£o final do docker-compose.yml
   Ãštil para debugar problemas de sintaxe

docker-compose pull
â””â”€ Baixa as versÃµes mais recentes das imagens
   Atualiza imagens de registros remotos


ğŸ“ EXEMPLOS PRÃTICOS PARA ESTE PROJETO
---------------------------------------

# Iniciar todo o projeto pela primeira vez
docker-compose up --build -d

# Ver se tudo estÃ¡ rodando
docker-compose ps

# Ver logs do backend
docker-compose logs -f backend

# Ver logs do frontend
docker-compose logs -f frontend

# Reiniciar apenas o frontend apÃ³s mudanÃ§as
docker-compose restart frontend

# Reconstruir e reiniciar o device-agent
docker-compose up --build -d device-agent

# Parar tudo
docker-compose down

# Parar tudo e limpar volumes (reiniciar do zero)
docker-compose down -v


ğŸ¯ WORKFLOW RECOMENDADO
------------------------

1. Primeira execuÃ§Ã£o:
   docker-compose up --build -d

2. Durante desenvolvimento:
   - Mudou cÃ³digo do frontend: docker-compose restart frontend
   - Mudou cÃ³digo do backend: docker-compose restart backend
   - Mudou Dockerfile: docker-compose up --build -d [serviÃ§o]

3. Ver o que estÃ¡ acontecendo:
   docker-compose logs -f [serviÃ§o]

4. Finalizar o dia:
   docker-compose down

5. RecomeÃ§ar no dia seguinte:
   docker-compose up -d


ğŸ’¡ DICAS IMPORTANTES
--------------------

âœ… Use "-d" para nÃ£o travar o terminal
âœ… Use "--build" quando mudar cÃ³digo ou Dockerfile
âœ… Use "restart" para mudanÃ§as simples (mais rÃ¡pido)
âœ… Use "logs -f" para debugar problemas em tempo real
âœ… Use "ps" para ver status dos containers

âš ï¸  Evite "down -v" em produÃ§Ã£o (perde dados)
âš ï¸  "Ctrl+C" sÃ³ funciona se NÃƒO usou "-d"


ğŸŒ URLs DO PROJETO
------------------

Frontend:      http://localhost:4200
Backend API:   http://localhost:5001
Device Agent:  http://localhost:8001


===============================================
Criado em: Janeiro 2026
Projeto: CIoTD - Centro von Braun
===============================================
